
Jobs
Run details
Detox
failed 2 minutes ago in 3m 14s
Search logs
6s
Current runner version: '2.328.0'
Runner name: 'gha-mmsdk-scale-set-ubuntu-22.04-amd64-large-28kcv-runner-xxppd'
Runner group name: 'metamask-azure-github-runners'
Machine name: 'gha-mmsdk-scale-set-ubuntu-22'
GITHUB_TOKEN Permissions
Secret source: Actions
Prepare workflow directory
Prepare all required actions
Getting action download info
Download action repository 'actions/checkout@v4' (SHA:08eba0b27e820071cde6df949e0beb9ba4906955)
Download action repository 'MetaMask/github-tools@2e4ce39610e441f28d50f30af8725ecf6bd540b8' (SHA:2e4ce39610e441f28d50f30af8725ecf6bd540b8)
Download action repository 'actions/download-artifact@v4' (SHA:d3f86a106a0bac45b974a628896c90dbdf5c8093)
Download action repository 'actions/upload-artifact@v4' (SHA:ea165f8d65b6e75b540449e92b4886f43607fa02)
Getting action download info
Download action repository 'MetaMask/github-tools@0259e8a920318b02a8860e178d79796eaa08de02' (SHA:0259e8a920318b02a8860e178d79796eaa08de02)
Download action repository 'actions/setup-java@c5195efecf7bdfc987ee8bae7a71cb8b11521c00' (SHA:c5195efecf7bdfc987ee8bae7a71cb8b11521c00)
Download action repository 'actions/setup-node@v4' (SHA:49933ea5288caeca8642d1e84afbd3f7d6820020)
Download action repository 'nick-fields/retry@ce71cc2ab81d554ebbe88c79ab5975992d79ba08' (SHA:ce71cc2ab81d554ebbe88c79ab5975992d79ba08)
Download action repository 'actions/cache@v4' (SHA:0057852bfaa89a56745cba8c7296529d2fc39830)
Download action repository 'ruby/setup-ruby@a4effe49ee8ee5b8b5091268c473a4628afb5651' (SHA:a4effe49ee8ee5b8b5091268c473a4628afb5651)
Getting action download info
Download action repository 'aws-actions/configure-aws-credentials@v4' (SHA:7474bc4690e29a8392af63c5b98e7449536d5c3a)
Getting action download info
Complete job name: Detox
1s
A job started hook has been configured by the self-hosted runner administrator
Run '/hooks/pre-run.sh'
pod/gha-mmsdk-scale-set-ubuntu-22.04-amd64-large-28kcv-runner-xxppd annotated
37s
Run actions/checkout@v4
Syncing repository: MetaMask/metamask-mobile
Getting Git version info
Temporarily overriding HOME='/home/runner/_work/_temp/82c95b7d-1f12-4aac-9c73-5ba035d5fa41' before making global git config changes
Adding repository directory to the temporary git global config as a safe directory
/usr/bin/git config --global --add safe.directory /home/runner/_work/metamask-mobile/metamask-mobile
Deleting the contents of '/home/runner/_work/metamask-mobile/metamask-mobile'
Initializing the repository
Disabling automatic garbage collection
Setting up auth
Fetching the repository
Determining the checkout info
/usr/bin/git sparse-checkout disable
/usr/bin/git config --local --unset-all extensions.worktreeConfig
Checking out the ref
/usr/bin/git log -1 --format=%H
6d39dab35ff914918d0655fd442adcc3fa18d858
2m 27s
  jdk-version: 17
  jdk-distribution: temurin
  foundry-version: v1.2.3
  android-device: pixel_5
  android-api-level: 34
  android-abi: x86_64
  android-tag: google_apis
  android-sdcard-size: 8092M
  keystore-role-to-assume: arn:aws:iam::363762752069:role/metamask-mobile-build-signer-qa
  target: qa
env:
  PREBUILT_IOS_APP_PATH: artifacts/MetaMask.app
  METAMASK_ENVIRONMENT: qa
  METAMASK_BUILD_TYPE: main
  GITHUB_TOKEN: ***
  PLATFORM: android
  TEST_SUITE_TAG: test
  CHANGED_FILES: 
  GITHUB_CI: true
  SPLIT_NUMBER: 1
  TOTAL_SPLITS: 1
  MM_UNIFIED_SWAPS_ENABLED: true
  RAMP_INTERNAL_BUILD: true
  MM_BRIDGE_ENABLED: true
  BRIDGE_USE_DEV_APIS: true
  MM_SECURITY_ALERTS_API_ENABLED: true
  MM_NOTIFICATIONS_UI_ENABLED: true
  FEATURES_ANNOUNCEMENTS_ACCESS_TOKEN: ***
  FEATURES_ANNOUNCEMENTS_SPACE_ID: ***
  MM_TEST_WALLET_SRP: ***
  SEEDLESS_ONBOARDING_ENABLED: true
  MM_REMOVE_GLOBAL_NETWORK_SELECTOR: true
  SEGMENT_WRITE_KEY_QA: ***
  SEGMENT_PROXY_URL_QA: ***
  SEGMENT_DELETE_API_SOURCE_ID_QA: ***
  MAIN_IOS_GOOGLE_CLIENT_ID_UAT: ***
  MAIN_IOS_GOOGLE_REDIRECT_URI_UAT: ***
  MAIN_ANDROID_APPLE_CLIENT_ID_UAT: ***
  MAIN_ANDROID_GOOGLE_CLIENT_ID_UAT: ***
  MAIN_ANDROID_GOOGLE_SERVER_CLIENT_ID_UAT: ***
  SEGMENT_REGULATIONS_ENDPOINT_QA: ***
  MM_SENTRY_DSN_TEST: ***
  MM_SENTRY_AUTH_TOKEN: ***
  GOOGLE_SERVICES_B64_IOS: ***
  GOOGLE_SERVICES_B64_ANDROID: ***
  MM_SOLANA_E2E_TEST_SRP: ***
  MM_INFURA_PROJECT_ID: ***

Run echo "Setup E2E Environment started"
Setup E2E Environment started
Run echo "ANDROID_HOME=/opt/android-sdk" >> "$GITHUB_ENV"
Run actions/setup-java@c5195efecf7bdfc987ee8bae7a71cb8b11521c00
Installed distributions
Creating settings.xml with server-id: github
Writing to /home/runner/.m2/settings.xml
Run sudo apt-get update
Hit:1 https://cli.github.com/packages stable InRelease
Get:2 http://security.ubuntu.com/ubuntu jammy-security InRelease [129 kB]
Hit:3 https://packages.microsoft.com/repos/azure-cli jammy InRelease
Hit:4 http://archive.ubuntu.com/ubuntu jammy InRelease
Get:5 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [3371 kB]
Get:6 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [128 kB]
Get:7 https://packages.cloud.google.com/apt cloud-sdk InRelease [1620 B]
Get:8 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [5609 kB]
Get:9 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [1274 kB]
Hit:10 https://ppa.launchpadcontent.net/deadsnakes/ppa/ubuntu jammy InRelease
Hit:11 https://ppa.launchpadcontent.net/git-core/ppa/ubuntu jammy InRelease
Get:12 https://packages.cloud.google.com/apt cloud-sdk/main all Packages [1839 kB]
Get:13 http://archive.ubuntu.com/ubuntu jammy-backports InRelease [127 kB]
Get:14 https://packages.cloud.google.com/apt cloud-sdk/main amd64 Packages [4193 kB]
Get:15 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [1580 kB]
Get:16 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [3732 kB]
Get:17 http://archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [5899 kB]
Get:18 http://archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [35.2 kB]
Fetched 27.9 MB in 2s (13.9 MB/s)
Reading package lists...
Reading package lists...
Building dependency tree...
Reading state information...
libglu1-mesa is already the newest version (9.0.2-1).
libxss1 is already the newest version (1:1.2.3-1build2).
libnss3 is already the newest version (2:3.98-0ubuntu0.22.04.2).
libpulse0 is already the newest version (1:15.99.1+dfsg1-1ubuntu2.2).
0 upgraded, 0 newly installed, 0 to remove and 18 not upgraded.
✅ Linux dependencies installed successfully
Run echo "ANDROID_AVD_HOME=$HOME/.android/avd" >> "$GITHUB_ENV"
Run IMAGE="system-images;android-34;google_apis;x86_64"
Creating AVD with image: system-images;android-34;google_apis;x86_64
Loading local repository...                                                     
[=========                              ] 25% Loading local repository...       
[=========                              ] 25% Fetch remote repository...        
[=======================================] 100% Fetch remote repository...       
Run actions/setup-node@v4
Attempting to download 20.18.0...
Acquiring 20.18.0 - x64 from https://github.com/actions/node-versions/releases/download/20.18.0-11182621166/node-20.18.0-linux-x64.tar.gz
Extracting ...
Unexpected error attempting to determine if executable file exists '/usr/local/bin/aws/tar': Error: ENOTDIR: not a directory, stat '/usr/local/bin/aws/tar'
Unexpected error attempting to determine if executable file exists '/usr/local/bin/aws/tar': Error: ENOTDIR: not a directory, stat '/usr/local/bin/aws/tar'
/usr/bin/tar xz --strip 1 --warning=no-unknown-keyword --overwrite -C /home/runner/_work/_temp/65acd173-480c-4702-8073-8482045927e0 -f /home/runner/_work/_temp/34dba24e-a082-4190-91b1-567c6259faae
Adding to the cache ...
Environment details
Run nick-fields/retry@ce71cc2ab81d554ebbe88c79ab5975992d79ba08
Attempt 1
Run actions/cache@v4
Unexpected error attempting to determine if executable file exists '/usr/local/bin/aws/zstd': Error: ENOTDIR: not a directory, stat '/usr/local/bin/aws/zstd'
Cache hit for: e2e-yarn-android-Linux-7319237297a1d70fbd125ce2485fb5f50511ee8a06f844a3e0b9ff75bcb64554
Received 121634816 of 1052708256 (11.6%), 116.0 MBs/sec
Received 285212672 of 1052708256 (27.1%), 135.5 MBs/sec
Received 515899392 of 1052708256 (49.0%), 163.6 MBs/sec
Received 687865856 of 1052708256 (65.3%), 163.6 MBs/sec
Received 918552576 of 1052708256 (87.3%), 174.8 MBs/sec
Received 1052708256 of 1052708256 (100.0%), 175.2 MBs/sec
Cache Size: ~1004 MB (1052708256 B)
Unexpected error attempting to determine if executable file exists '/usr/local/bin/aws/tar': Error: ENOTDIR: not a directory, stat '/usr/local/bin/aws/tar'
/usr/bin/tar -xf /home/runner/_work/_temp/68d39fab-e9fe-4b95-82a1-c0c3839316fb/cache.tzst -P -C /home/runner/_work/metamask-mobile/metamask-mobile --use-compress-program unzstd
Cache restored successfully
Cache restored from key: e2e-yarn-android-Linux-7319237297a1d70fbd125ce2485fb5f50511ee8a06f844a3e0b9ff75bcb64554
Run nick-fields/retry@ce71cc2ab81d554ebbe88c79ab5975992d79ba08
Attempt 1
Resolution step
➤ YN0000: └ Completed in 0s 607ms
➤ YN0000: ┌ Fetch step
Fetch step
➤ YN0000: └ Completed in 58s 252ms
➤ YN0000: ┌ Link step
Link step
➤ YN0000: └ Completed in 4s 696ms
➤ YN0000: Done with warnings in 1m 5s
Command completed after 1 attempt(s).

Run echo "Installing Foundry via foundryup..."
Installing Foundry via foundryup...
.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx
 ╔═╗ ╔═╗ ╦ ╦ ╔╗╔ ╔╦╗ ╦═╗ ╦ ╦         Portable and modular toolkit
 ╠╣  ║ ║ ║ ║ ║║║  ║║ ╠╦╝ ╚╦╝    for Ethereum Application Development
 ╚   ╚═╝ ╚═╝ ╝╚╝ ═╩╝ ╩╚═  ╩                 written in Rust.
.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx
Repo       : https://github.com/foundry-rs/foundry
Book       : https://book.getfoundry.sh/
Chat       : https://t.me/foundry_rs/
Support    : https://t.me/foundry_support/
Contribute : https://github.com/foundry-rs/foundry/blob/master/CONTRIBUTING.md
.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx.xOx
foundryup: checking if foundryup is up to date...
foundryup: foundryup is up to date.
foundryup: installing foundry (version stable, tag stable)
foundryup: checking if forge, cast, anvil, and chisel for stable version are already installed
#=#=#                                                                         
######################################################################## 100.0%
foundryup: found attestation for stable version, downloading attestation artifact, checking...
#=#=#                                                                         
######################################################################## 100.0%
foundryup: binaries not found or do not match expected hashes, downloading new binaries
#=#=#                                                                         
foundryup: downloading forge, cast, anvil, and chisel for stable version
#####                                                                      7.3%
##############################################################            86.3%
######################################################################## 100.0%
forge
cast
anvil
chisel
foundryup: downloading manpages
#=#=#                                                                         
######################################################################## 100.0%
foundryup: verifying downloaded binaries against the attestation file
foundryup: forge verified ✓
foundryup: cast verified ✓
foundryup: anvil verified ✓
foundryup: chisel verified ✓
foundryup: use - forge 1.3.5-stable (9979a41b5d 2025-09-09T04:48:08.305566906Z)
foundryup: use - cast 1.3.5-stable (9979a41b5d 2025-09-09T04:48:08.305566906Z)
foundryup: use - anvil 1.3.5-stable (9979a41b5d 2025-09-09T04:48:08.305566906Z)
foundryup: use - chisel 1.3.5-stable (9979a41b5d 2025-09-09T04:48:08.305566906Z)
0s
0s
1s
Found 0 artifact(s)
No input name, artifact-ids or pattern filtered specified, downloading all artifacts
An extra directory with the artifact name will be created for each download
Total of 0 artifact(s) downloaded
Download artifact has finished successfully
0s
Run # Move main APK
❌ Android main APK not found
ls: cannot access 'artifacts/': No such file or directory
Error: Process completed with exit code 2.
0s
0s
0s
0s
0s
0s
0s
Post job cleanup.
Post job cleanup.
0s
Post job cleanup.
Unexpected error attempting to determine if executable file exists '/usr/local/bin/aws/git': Error: ENOTDIR: not a directory, stat '/usr/local/bin/aws/git'
/usr/bin/git version
git version 2.50.1
Temporarily overriding HOME='/home/runner/_work/_temp/c9519cf0-24d5-4dff-bad1-4de91608554f' before making global git config changes
Adding repository directory to the temporary git global config as a safe directory
/usr/bin/git config --global --add safe.directory /home/runner/_work/metamask-mobile/metamask-mobile
/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
http.https://github.com/.extraheader
/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
0s
A job completed hook has been configured by the self-hosted runner administrator
Run '/hooks/post-run.sh'
  
pod/gha-mmsdk-scale-set-ubuntu-22.04-amd64-large-28kcv-runner-xxppd annotated
