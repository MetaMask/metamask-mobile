name: Test Android E2E Setup

on:
  push:

jobs:
  android-e2e:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo
        uses: actions/checkout@v4

      - name: Setup E2E iOS Environment
        uses: MetaMask/github-tools/.github/actions/setup-e2e-env@e2e-env-actions
        with:
          platform: android

      - name: Print Android tool versions
        run: |
          echo "üîß Node.js Version:"
          node -v || echo "Node not found"

          echo "üß∂ Yarn Version:"
          yarn -v || echo "Yarn not found"

          echo "üì¶ SDK Manager Version:"
          sdkmanager --version || echo "sdkmanager not found"

          echo "üì± ADB Version:"
          adb version || echo "adb not found"

          echo "üñ•Ô∏è Emulator Version:"
          emulator -version || echo "emulator not found"

          echo "üì± Available AVD Devices:"
          avdmanager list device || echo "avdmanager not found"

          echo "üß± NDK Version Info:"
          NDK_PATH="$ANDROID_SDK_ROOT/ndk/${NDK_VERSION}"
          if [ -f "$NDK_PATH/source.properties" ]; then
            grep "Pkg.Revision" "$NDK_PATH/source.properties"
          else
            echo "NDK not found at: $NDK_PATH"
          fi
        shell: bash




