name: Trigger Publish Slack Release Testing Status

on:
  schedule:
    - cron: '0 15 * * 1-5'  #M-F at 15:00 UTC
  workflow_dispatch:  # Allows manual triggering

jobs:
  call-publish-slack-release-testing-status:
    name: Publish Slack release testing status
    runs-on: ubuntu-latest
    permissions:
      contents: write
      pull-requests: write
    steps:
      - name: Publish Slack release testing status
        uses: MetaMask/github-tools/.github/actions/publish-slack-release-testing-status@v1
        with:
          platform: 'mobile'
          test-only: 'true'
          google-document-id: '1tsoodlAlyvEUpkkcNcbZ4PM9HuC9cEM80RZeoVv5OCQ'
          slack-api-key: ${{ secrets.SLACKBOT_RLS_TOKEN }}
          github-token: ${{ secrets.PR_TOKEN }}
          google-application-creds-base64: ${{ secrets.GCP_RLS_SHEET_ACCOUNT_BASE64 }}
