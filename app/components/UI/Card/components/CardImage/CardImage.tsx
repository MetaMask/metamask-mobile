/* eslint-disable @metamask/design-tokens/color-no-hex */
import React from 'react';
import { View } from 'react-native';
import Svg, { SvgProps, G, Path, Mask, TSpan, Text } from 'react-native-svg';
import { truncateAddress } from '../../util/truncateAddress';

const defaultCardOriginalWidth = 343;
const defaultCardOriginalHeight = 215;
const defaultCardAspectRatio =
  defaultCardOriginalWidth / defaultCardOriginalHeight;

const metalCardOriginalWidth = 343;
const metalCardOriginalHeight = 215;
const metalCardAspectRatio = metalCardOriginalWidth / metalCardOriginalHeight;

interface CardImageProps extends SvgProps {
  isMetal?: boolean;
  address?: string;
  allowance?: string;
  currency?: string;
}

const MetalCard = (props: CardImageProps) => (
  <View style={{ aspectRatio: metalCardAspectRatio }}>
    <Svg
      fill="none"
      width="100%"
      height="100%"
      viewBox={`0 0 ${metalCardOriginalWidth} ${metalCardOriginalHeight}`}
      {...props}
    >
      <Mask
        id="a"
        maskUnits="userSpaceOnUse"
        x={0}
        y={0}
        width={metalCardOriginalWidth}
        height={metalCardOriginalHeight}
      >
        <Path
          d="M12.822 0h317.356C337.275 0 343 5.654 343 12.661V202.34c0 7.007-5.725 12.661-12.822 12.661H12.822C5.725 215 0 209.346 0 202.339V12.661C0 5.654 5.725 0 12.822 0z"
          fill="#fff"
        />
      </Mask>
      <G mask="url(#a)">
        <Path
          d="M12.822 0h317.356C337.275 0 343 5.654 343 12.661V202.34c0 7.007-5.725 12.661-12.822 12.661H12.822C5.725 215 0 209.346 0 202.339V12.661C0 5.654 5.725 0 12.822 0z"
          fill="#3D065F"
        />
        <Path
          d="M159.787 168.456l-41.408-12.143-31.288 18.394H65.278L34.03 156.353l-41.408 12.143-12.58-41.805 12.58-46.424-12.58-39.258 12.58-48.654L57.335 30.38h37.739l64.713-38.024 12.58 48.654-12.58 39.258 12.58 46.424-12.58 41.765z"
          fill="#FF5C16"
        />
        <Path
          d="M-7.338-7.645l64.713 38.063-2.58 26.119L-7.338-7.645zM34.07 126.65l28.466 21.341-28.466 8.321V126.65zM60.238 91.415l-5.444-34.878-35.037 23.73.12 24.406L34.07 91.415h26.168zM159.787-7.645L95.074 30.418l2.58 26.119 62.133-64.182zM118.379 126.65l-28.466 21.341 28.466 8.321V126.65zM132.692 80.267l-35.038-23.73-5.483 34.878h26.208l14.192 13.258.121-24.406z"
          fill="#FF5C16"
        />
        <Path
          d="M34.03 156.352l-41.408 12.144-12.58-41.806H34.03v29.662zM60.238 91.415l7.902 50.406-10.967-28.03-37.376-9.118 14.192-13.258h26.249zM118.379 156.352l41.408 12.144 12.58-41.806h-53.988v29.662zM92.171 91.415l-7.903 50.406 10.967-28.03 37.377-9.118-14.233-13.258H92.171z"
          fill="#E34807"
        />
        <Path
          d="M-19.958 126.651l12.58-46.424h27.094l.081 24.406 37.376 9.118L68.14 141.78l-5.644 6.172-28.466-21.341-53.988.04zM172.367 126.651l-12.58-46.424h-27.095l-.08 24.406-37.377 9.118-10.967 28.029 5.645 6.172 28.466-21.341 53.988.04z"
          fill="#FF8D5D"
        />
        <Path
          d="M95.074 30.379h-37.74l-2.58 26.118 13.387 85.284h16.127l13.387-85.284-2.58-26.118z"
          fill="#FF8D5D"
        />
        <Path
          d="M-7.378-7.645l-12.58 48.654 12.58 39.258h27.094l35.038-23.73L-7.378-7.645zM52.416 101.527H40.158l-6.693 6.45 23.749 5.773-4.798-12.223zM159.787-7.645l12.58 48.654-12.58 39.258h-27.095l-35.038-23.73 62.133-64.182zM100.033 101.527h12.298l6.693 6.45-23.748 5.813 4.757-12.263zM87.09 158.065l2.783-10.073-5.645-6.172H68.1l-5.645 6.172 2.863 10.073"
          fill="#661800"
        />
        <Path d="M87.09 158.064v16.643H65.319v-16.643H87.09z" fill="#C0C4CD" />
        <Path
          d="M34.07 156.313l31.288 18.395v-16.643l-2.782-10.073-28.506 8.321zM118.379 156.313l-31.288 18.395v-16.643l2.782-10.073 28.506 8.321z"
          fill="#E7EBF6"
        />
      </G>
      <Mask
        id="b"
        maskUnits="userSpaceOnUse"
        x={0}
        y={0}
        width={metalCardOriginalWidth}
        height={metalCardOriginalHeight}
      >
        <Path
          d="M12.822 0h317.356C337.275 0 343 5.654 343 12.661V202.34c0 7.007-5.725 12.661-12.822 12.661H12.822C5.725 215 0 209.346 0 202.339V12.661C0 5.654 5.725 0 12.822 0z"
          fill="#fff"
        />
      </Mask>
      <G mask="url(#b)">
        <Path
          d="M295.348 43.273v7.764h-4.113v-5.375l-4.677.518c-1.008.12-1.492.438-1.492 1.035 0 .876.847 1.274 2.702 1.274 1.129 0 2.378-.16 3.467-.438l-2.137 2.946c-.847.2-1.693.279-2.58.279-3.71 0-5.847-1.433-5.847-4.021 0-2.27 1.653-3.464 5.444-3.862l4.999-.558c-.282-1.433-1.371-2.03-3.548-2.03-2.056 0-4.314.517-6.33 1.473l.645-3.464c1.895-.757 4.032-1.155 6.209-1.155 4.798-.08 7.258 1.872 7.258 5.614zm-36.852-9.755l-4.476 17.519h4.476l2.217-8.799 3.871 4.539h4.677l3.871-4.539 2.217 8.799h4.476l-4.476-17.518-8.427 9.794-8.426-9.794zM275.309 16l-8.387 9.794L258.536 16l-4.476 17.519h4.476l2.217-8.8 3.871 4.54h4.677l3.871-4.54 2.217 8.8h4.476L275.309 16zm30.804 27.114l-3.629-.518c-.887-.159-1.25-.438-1.25-.915 0-.797.887-1.155 2.702-1.155 2.096 0 3.991.438 5.967 1.314l-.484-3.424c-1.612-.558-3.427-.836-5.322-.836-4.435 0-6.895 1.513-6.895 4.26 0 2.11 1.331 3.304 4.153 3.742l3.669.518c.928.16 1.291.478 1.291 1.035 0 .797-.847 1.155-2.581 1.155-2.298 0-4.757-.518-6.773-1.513l.403 3.424c1.733.637 3.991.995 6.128.995 4.556 0 6.935-1.552 6.935-4.34-.04-2.15-1.371-3.344-4.314-3.742zM312 35.07v15.966h4.112V35.071H312zm8.87 8.8l5.685-6.053h-5.08l-5.403 6.251 5.725 6.968h5.202l-6.129-7.167zm-9.435-14.135c0 2.588 2.137 4.021 5.847 4.021.887 0 1.733-.08 2.58-.278l2.137-2.947a14.513 14.513 0 01-3.467.438c-1.815 0-2.702-.358-2.702-1.274 0-.597.444-.915 1.492-1.035l4.677-.518v5.376h4.113v-7.764c0-3.743-2.46-5.694-7.218-5.694-2.177 0-4.314.398-6.209 1.155l-.645 3.464c2.016-.956 4.274-1.474 6.33-1.474 2.178 0 3.266.637 3.548 2.031l-4.999.557c-3.831.478-5.484 1.673-5.484 3.942zm-11.45-.836c0 3.225 1.895 4.857 5.685 4.857 1.491 0 2.741-.238 3.911-.756l.524-3.544c-1.129.677-2.298 1.036-3.468 1.036-1.774 0-2.54-.717-2.54-2.27v-4.698h6.209V20.26h-6.209v-2.747l-7.782 4.061v1.951h3.71l-.04 5.375zm-4.032-1.473v.796h-11.088c.483 1.633 1.975 2.35 4.636 2.35 2.097 0 4.032-.439 5.806-1.235l-.483 3.424c-1.613.637-3.629.995-5.685.995-5.484 0-8.508-2.388-8.508-6.808s3.064-6.888 7.782-6.888c4.637 0 7.54 2.707 7.54 7.366zm-11.129-1.911h7.016c-.363-1.553-1.573-2.35-3.508-2.35s-3.145.757-3.508 2.35z"
          fill="#EEE"
        />
      </G>
      <Text fill="#FBFCFF">
        {props.allowance && (
          <TSpan
            x={330}
            y={122}
            textAnchor="end"
            fontSize="32px"
            fontWeight={700}
          >
            {props.allowance ?? '0'}
          </TSpan>
        )}
        {props.currency && (
          <TSpan
            x={327}
            dy={20}
            textAnchor="end"
            fontSize="16px"
            fontWeight={400}
          >
            {props.currency ?? 'USDC'}
          </TSpan>
        )}
      </Text>
      {props.address && (
        <Text x={16} y={199} fontSize="12px" fontWeight={400} fill="#FFFFFFB2">
          {props.address ?? '0x'}
        </Text>
      )}
      <Path d="M300.352 159.185h-19.756v35.037h19.756v-35.037z" fill="#fff" />
      <Path
        d="M281.846 176.702c0-6.808 3.185-13.298 8.588-17.518-9.798-7.605-24.031-5.932-31.732 3.782-7.661 9.675-5.967 23.65 3.871 31.255a22.757 22.757 0 0027.901 0c-5.403-4.22-8.628-10.71-8.628-17.519z"
        fill="#F3F3F3"
      />
      <Path
        d="M327.004 176.702c0 12.303-10.08 22.297-22.58 22.297-5.08 0-9.959-1.672-13.91-4.778a22.104 22.104 0 003.75-31.334c-1.129-1.354-2.379-2.668-3.75-3.703 9.798-7.605 24.031-5.932 31.651 3.782 3.145 3.862 4.839 8.72 4.839 13.736z"
        fill="#DFDFDF"
      />
    </Svg>
  </View>
);

const DefaultCard = (props: CardImageProps) => (
  <View style={{ aspectRatio: defaultCardAspectRatio }}>
    <Svg
      fill="none"
      width="100%"
      height="100%"
      viewBox={`0 0 ${defaultCardOriginalWidth} ${defaultCardOriginalHeight}`}
      {...props}
    >
      <Mask
        id="a"
        maskUnits="userSpaceOnUse"
        x={0}
        y={0}
        width={343}
        height={215}
      >
        <Path
          d="M12.822 0h317.356C337.275 0 343 5.654 343 12.661V202.34c0 7.007-5.725 12.661-12.822 12.661H12.822C5.725 215 0 209.346 0 202.339V12.661C0 5.654 5.725 0 12.822 0z"
          fill="#fff"
        />
      </Mask>
      <G mask="url(#a)">
        <Path
          d="M12.822-.001h317.356C337.275-.001 343 5.653 343 12.66v189.678c0 7.007-5.725 12.661-12.822 12.661H12.822C5.725 214.999 0 209.345 0 202.338V12.66C0 5.653 5.725 0 12.822 0z"
          fill="#FF5C16"
        />
        <Path d="M137 123h97V39h-97v84z" fill="#FFA680" />
        <Path d="M188 215h85V-6h-85v221z" fill="#FFA680" />
        <Path d="M272 215h60v-47h-60v47z" fill="#FFA680" />
        <Path
          d="M328 215h15v-47h-15v47zM272 168h71V77.153L272 48v120zM137.047 38.978l51.045-45.35L217 87l-79.953-48.022zM137.047 122.947l51.045 45.349L217 87.5l-79.953 35.447z"
          fill="#FFA680"
        />
        <Path
          d="M280.343 137.998l-27.458-8.043-20.684 12.184h-14.434l-20.724-12.184-27.418 8.043-8.346-27.751 8.346-30.817-8.346-26.039 8.346-32.29 42.86 25.243h24.998l42.86-25.242 8.346 32.29-8.346 26.038 8.346 30.817-8.346 27.751z"
          fill="#FF5C16"
        />
        <Path
          d="M169.625 21.102l42.86 25.242-1.693 17.32-41.167-42.562zM197.042 110.247l18.87 14.174-18.87 5.534v-19.708zM214.42 86.835l-3.628-23.132-23.184 15.727.08 16.205 9.395-8.8h17.337zM280.343 21.102l-42.86 25.242 1.694 17.32 41.166-42.562zM252.926 110.247l-18.87 14.174 18.87 5.534v-19.708zM262.401 79.43l-23.224-15.727-3.629 23.132h17.337l9.435 8.8.081-16.205z"
          fill="#FF5C16"
        />
        <Path
          d="M197.043 129.955l-27.418 8.043-8.346-27.751h35.764v19.708zM214.42 86.835l5.242 33.444-7.258-18.593-24.756-6.052 9.435-8.799h17.337zM252.926 129.955l27.417 8.043 8.346-27.751h-35.763v19.708zM235.548 86.835l-5.242 33.444 7.258-18.593 24.756-6.052-9.435-8.799h-17.337z"
          fill="#E34807"
        />
        <Path
          d="M161.279 110.246l8.346-30.816h17.942l.081 16.204 24.756 6.052 7.258 18.594-3.75 4.101-18.869-14.174-35.764.039zM288.689 110.246l-8.346-30.816h-17.942l-.081 16.204-24.756 6.052-7.258 18.594 3.75 4.101 18.87-14.174 35.763.039z"
          fill="#FF8D5D"
        />
        <Path
          d="M237.483 46.344h-24.998l-1.693 17.32 8.87 56.616h10.685l8.87-56.617-1.734-17.32z"
          fill="#FF8D5D"
        />
        <Path
          d="M169.625 21.102l-8.346 32.29 8.346 26.038h17.942l23.225-15.727-41.167-42.601zM209.219 93.564h-8.145l-4.435 4.26 15.725 3.863-3.145-8.123zM280.343 21.102l8.346 32.29-8.346 26.038h-17.942l-23.224-15.727 41.166-42.601zM240.749 93.564h8.145l4.435 4.3-15.725 3.862 3.145-8.162zM232.201 131.069l1.855-6.689-3.75-4.101h-10.684l-3.75 4.101 1.855 6.689"
          fill="#661800"
        />
        <Path
          d="M232.201 131.069v11.069h-14.434v-11.069h14.434z"
          fill="#C0C4CD"
        />
        <Path
          d="M197.042 129.915l20.725 12.183V131.03l-1.855-6.689-18.87 5.574zM252.926 129.915l-20.725 12.223V131.07l1.855-6.689 18.87 5.534z"
          fill="#E7EBF6"
        />
      </G>
      <Mask
        id="b"
        maskUnits="userSpaceOnUse"
        x={0}
        y={0}
        width={343}
        height={215}
      >
        <Path
          d="M12.822 0h317.356C337.275 0 343 5.654 343 12.661V202.34c0 7.007-5.725 12.661-12.822 12.661H12.822C5.725 215 0 209.346 0 202.339V12.661C0 5.654 5.725 0 12.822 0z"
          fill="#fff"
        />
      </Mask>
      <G mask="url(#b)">
        <Path
          d="M57.328 43.314v7.764h-4.113v-5.375l-4.677.517c-1.008.12-1.492.438-1.492 1.036 0 .876.847 1.274 2.702 1.274 1.129 0 2.379-.16 3.467-.438l-2.137 2.946c-.847.2-1.693.279-2.58.279-3.71 0-5.847-1.434-5.847-4.022 0-2.269 1.653-3.464 5.443-3.862l5-.557c-.282-1.433-1.37-2.03-3.548-2.03-2.056 0-4.314.517-6.33 1.473l.645-3.464c1.895-.757 4.032-1.155 6.21-1.155 4.797-.08 7.257 1.871 7.257 5.614zm-36.852-9.755L16 51.078h4.476l2.217-8.8 3.87 4.54h4.678l3.87-4.54 2.218 8.8h4.476l-4.516-17.519-8.387 9.795-8.427-9.795zm16.813-17.558l-8.387 9.834-8.427-9.834L16 33.559h4.476l2.217-8.799 3.87 4.54h4.678l3.87-4.54 2.178 8.8h4.475L37.29 16zm30.804 27.114l-3.629-.518c-.887-.159-1.25-.438-1.25-.916 0-.796.887-1.154 2.702-1.154 2.097 0 3.992.438 5.967 1.314l-.484-3.424c-1.612-.558-3.427-.836-5.322-.836-4.435 0-6.895 1.513-6.895 4.26 0 2.11 1.331 3.304 4.153 3.742l3.67.518c.927.16 1.29.478 1.29 1.035 0 .796-.847 1.155-2.58 1.155-2.299 0-4.759-.518-6.775-1.513l.404 3.424c1.733.637 3.991.995 6.128.995 4.556 0 6.935-1.553 6.935-4.34-.04-2.11-1.37-3.304-4.314-3.742zm5.887-8.003v15.966h4.112V35.112H73.98zm8.87 8.8l5.685-6.053h-5.08l-5.403 6.251 5.725 6.968h5.202L82.85 43.91zm-9.435-14.135c0 2.588 2.137 4.021 5.847 4.021.887 0 1.733-.08 2.58-.279l2.137-2.946a14.515 14.515 0 01-3.467.438c-1.815 0-2.702-.358-2.702-1.274 0-.597.444-.916 1.492-1.035l4.677-.518v5.375h4.113v-7.803c0-3.743-2.46-5.694-7.218-5.694-2.177 0-4.314.398-6.209 1.155l-.645 3.464c2.016-.956 4.274-1.474 6.33-1.474 2.178 0 3.266.637 3.548 2.031l-5 .557c-3.83.518-5.483 1.712-5.483 3.982zm-11.45-.836c0 3.225 1.894 4.857 5.685 4.857 1.491 0 2.741-.239 3.91-.756l.525-3.544c-1.13.677-2.298 1.035-3.468 1.035-1.774 0-2.54-.716-2.54-2.27v-4.697h6.21V20.3h-6.21v-2.747l-7.822 4.06v1.952h3.71v5.375zm-4.033-1.473v.796H46.846c.483 1.632 1.975 2.349 4.636 2.349 2.097 0 4.032-.438 5.806-1.234l-.483 3.424c-1.613.637-3.63.995-5.686.995-5.483 0-8.507-2.389-8.507-6.808 0-4.42 3.064-6.888 7.782-6.888 4.636 0 7.54 2.668 7.54 7.366zm-11.128-1.951h7.016c-.363-1.553-1.573-2.35-3.508-2.35-1.976 0-3.145.797-3.508 2.35z"
          fill="#661800"
        />
      </G>
      {props.allowance && props.currency && (
        <Text x={16} y={173} fontSize="32px" fontWeight={700} fill="#262833">
          {props.allowance ?? '0'}
          <TSpan dx={4} fontSize="16px" fontWeight={400}>
            {props.currency ?? 'USDC'}
          </TSpan>
        </Text>
      )}
      {props.address && (
        <Text x={16} y={199} fontSize="12px" fontWeight={400} fill="#262833B2">
          {props.address ?? '0x'}
        </Text>
      )}
      <Path
        d="M276.571 152.431h27.821c13.587 0 24.595 10.869 24.595 24.287 0 13.417-11.008 24.287-24.595 24.287h-27.821c-13.588 0-24.595-10.87-24.595-24.287 0-13.418 11.007-24.287 24.595-24.287z"
        fill="#fff"
        stroke="#fff"
        strokeWidth={10}
      />
      <Path
        d="M300.319 159.199h-19.756v35.037h19.756v-35.037z"
        fill="#FF5F00"
      />
      <Path
        d="M281.813 176.717c0-6.808 3.185-13.298 8.588-17.518-9.798-7.605-24.031-5.933-31.732 3.782-7.661 9.675-5.967 23.65 3.871 31.255a22.757 22.757 0 0027.901 0c-5.403-4.221-8.628-10.711-8.628-17.519z"
        fill="#EB001B"
      />
      <Path
        d="M326.971 176.717c0 12.303-10.08 22.296-22.579 22.296-5.081 0-9.959-1.672-13.911-4.777a22.105 22.105 0 003.75-31.335c-1.129-1.353-2.379-2.667-3.75-3.702 9.798-7.605 24.031-5.933 31.651 3.782 3.145 3.862 4.839 8.719 4.839 13.736z"
        fill="#F79E1B"
      />
    </Svg>
  </View>
);

const CardImage = (props: CardImageProps) => {
  const { isMetal, currency: rawCurrency, address: rawAddress } = props;

  const currency = rawCurrency ? rawCurrency.toUpperCase() : undefined;
  const address = rawAddress ? truncateAddress(rawAddress) : undefined;

  return isMetal ? (
    <MetalCard {...props} currency={currency} address={address} />
  ) : (
    <DefaultCard {...props} currency={currency} address={address} />
  );
};

export default CardImage;
